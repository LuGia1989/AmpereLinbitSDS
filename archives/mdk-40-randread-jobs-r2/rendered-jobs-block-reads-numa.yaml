---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-0
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-0
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-0
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-1
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-1
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-1
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-2
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-2
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-2
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-3
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-3
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-3
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-4
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-4
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-4
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-5
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-5
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-5
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-6
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-6
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-6
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n0-7
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n0
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n0-7
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n0-7
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-0
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-0
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-0
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-1
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-1
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-1
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-2
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-2
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-2
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-3
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-3
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-3
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-4
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-4
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-4
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-5
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-5
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-5
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-6
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-6
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-6
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n1-7
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n1
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n1-7
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n1-7
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-0
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-0
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-0
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-1
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-1
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-1
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-2
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-2
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-2
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-3
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-3
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-3
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-4
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-4
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-4
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-5
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-5
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-5
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-6
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-6
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-6
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n3-7
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n3
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n3-7
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n3-7
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-0
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-0
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-0
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-1
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-1
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-1
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-2
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-2
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-2
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-3
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-3
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-3
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-4
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-4
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-4
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-5
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-5
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-5
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-6
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-6
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-6
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n4-7
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n4
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n4-7
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n4-7
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-0
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-0
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-0
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-1
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-1
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-1
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-2
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-2
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-2
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-3
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-3
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-3
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-4
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-4
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-4
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-5
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-5
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-5
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-6
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-6
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-6
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: linstor-r2-n5-7
spec:
  accessModes:
    - ReadWriteOnce
  volumeMode: Block
  resources:
    requests:
      storage: 10Gi
  storageClassName: linstor-r2-n5
---
apiVersion: batch/v1
kind: Job
metadata:
  name: fio-bench-r2-n5-7
  labels:
    app: linstorbench
  namespace: default
spec:
  template:
    metadata:
      labels:
        app: linstorbench
    spec:
      containers:
      - name: fio-bench
        image: kermat/arm64-ubuntu-fio:0.0.1
        command: ["/usr/bin/fio"]
        args:
          - --name=iops-test
          - --filename=/dev/block
          - --ioengine=libaio
          - --direct=1
          - --invalidate=0
          - --rw=randread
          - --bs=4k
          - --runtime=120s
          - --numjobs=8
          - --iodepth=64
          - --numa_mem_policy=bind:0
          - --numa_cpu_nodes=0
          - --cpus_allowed=0-127
          - --group_reporting
        volumeDevices:
          - name: linstor-vol
            devicePath: /dev/block
        securityContext:
          capabilities:
            add: ["SYS_RAWIO"]
      restartPolicy: Never
      volumes:
        - name: linstor-vol
          persistentVolumeClaim:
            claimName: linstor-r2-n5-7
      initContainers:
      - name: wait-for-sync
        image: curlimages/curl
        command: ["/bin/sh"]
        args: ["-c", "t=1; while [ $t -gt 0 ]; do t=0; sleep 10s; for i in $(curl -s linstor-op-ns-node-monitoring.default.svc:9942 | grep outofsync | cut -d' ' -f2 | grep -o [0-9]*); do t=$(($t+$i)); done; done"]
  backoffLimit: 4

